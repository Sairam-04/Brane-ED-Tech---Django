{% extends "base/Main_template.html" %}
{% block content %}
{% load static %}

<div class="container-fluid takeclass-bg-color">
    <div class="row main-container">
        <div class="col-9 mx-auto ml-1.5 mr-1.5">
            <div class="take-a-class-container">
                <div class="class-video">
                    <video class="main-video" src="{% static '/videos/learningnw-video-1.mp4' %}" autoplay muted></video>
                </div>
                <div class="learningnw-badge">
                    Home
                    <svg aria-hidden="true" focusable="false" viewBox="0 0 48 48" role="img"
                        aria-labelledby="ChevronRight3e39c339-1bed-4be8-ff4b-16c5b5cff856 ChevronRight3e39c339-1bed-4be8-ff4b-16c5b5cff856Desc"
                        xmlns="http://www.w3.org/2000/svg" style="fill: #5d5d5d; height: 30px; width: 28px">
                        <polygon
                            transform="translate(23.999500, 24.000000) scale(-1, 1) translate(-23.999500, -24.000000)"
                            points="16 24 30.585 40 31.999 38.586 18.828 24 31.999 9.415 30.585 8" role="presentation">
                        </polygon>
                    </svg>
                    Learning Network
                </div>

                <div id="questions-content">
                    <div>Solve the Questions</div>
                    <div id="filters">Filters</div>
                </div>

                <div>
                    <ul class="col-12 questions-list">
                        {% for question in questions %}
                            <li class="question-item">
                                <div>
                                    {{forloop.counter}}. {{question.question}}
                                </div>
                                <div>
                                    <a href="#">Answer</a>
                                </div>
                            </li>
                        {% endfor %}
                    </ul>
                    <nav class="d-flex justify-content-end px-2">
                        <ul class="pagination">
                            <li class="page-item">
                                <a class="page-link" href="#">1 of 15</a>
                            </li>
                            <li class="page-item">
                                <a class="page-link" href="#" aria-label="Previous">
                                    <span aria-hidden="true">
                                        < </span>
                                </a>
                            </li>
                            <li class="page-item">
                                <a class="page-link" href="#" aria-label="Next">
                                    <span aria-hidden="true"> > </span>
                                </a>
                            </li>
                        </ul>
                    </nav>
                </div>

                <div class="question-form-title">Ask a Question ?</div>
                <div class="row question-form-main-div">
                    <div class="col-md-8">
                        <!-- Form goes here -->
                        <div class="question-form-div">
                            <div class="question-form">
                                <form action="{% url 'learningNetwork' %}" method="post">
                                    {% csrf_token %}
                                    <!-- Form content -->
                                    <div>
                                        <ul class="list-unstyled">
                                            <li class="row lnw-question-inputs">
                                                <div class="col-2">
                                                    <label for="Syllabus">Syllabus</label>
                                                </div>
                                                <div class="col-10">
                                                    <select id="Syllabus" name="syllabus">
                                                        {% for syllabus_choice_display, syllabus_choice_value in syllabus_choices %}
                                                            <option value="{{ syllabus_choice }}">{{ syllabus_choice_display }}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                            </li>
                                            <li class="row lnw-question-inputs">
                                                <div class="col-2">
                                                    <label for="Class">Class</label>
                                                </div>
                                                <div class="col-10">
                                                    <select id="Class" name="class">
                                                        {% for class_choice_display, class_choice_value in class_choices %}
                                                            <option value="{{ class_choice }}">{{ class_choice_display }}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                            </li>
                                            <li class="row lnw-question-inputs">
                                                <div class="col-2">
                                                    <label for="Subject">Subject</label>
                                                </div>
                                                <div class="col-10">
                                                    <select id="Subject" name="subject">
                                                        {% for subject_choice_display, subject_choice_value in subject_choices %}
                                                            <option value="{{ subject_choice }}">{{ subject_choice_display }}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                            </li>
                                            <li class="row lnw-question-inputs">
                                                <div class="col-2">
                                                    <label for="topic">Topic</label>
                                                </div>
                                                <div class="col-10">
                                                    <input type="text" name="topic" id="topic">
                                                </div>
                                            </li>
                                            <li class="row lnw-question-inputs">
                                                <div class="col-2">
                                                    <label for="question">Question</label>
                                                </div>
                                                <div class="col-10">
                                                    <textarea name="question" id="question"></textarea>

                                                    <button class="btn-secondary icon-user"><i
                                                            class="bi bi-mic-fill"></i></i></button>
                                                    <button class="btn-secondary icon-user"><i
                                                            class="bi bi-paperclip"></i></button>
                                                    <button class="btn-secondary icon-user"><i
                                                            class="bi bi-link-45deg"></i></button>

                                                </div>
                                            </li>
                                            <li id="question-form-button">
                                                <button type="submit" class="btn assessment-btn" name="form_submitted" value="True">Upload</button>
                                            </li>
                                        </ul>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 question-form-img-div">
                        <!-- Image goes here -->
                        <img id="question-form-img" src="{% static '/images/question-from-img2.png' %}" alt="..."
                            srcset="">
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

{% if form_submitted %}

    <div class="modal fade" id="myModal" role="dialog">
        <div class="modal-dialog">
        
        <!-- Modal content-->
        <div class="modal-content">
            
            <div class="modal-body">
            <img src="{% static '/images/checkicon.png' %}" alt="Successful image">
            
            <p class="modalmessage">Successfully Uploaded the Question !!</p>
            </div>

            <div class="modal-footer">
                
            <button type="button" class="btn btn-warning" data-dismiss="modal">Continue</button>
            </div>
        </div>
        </div>
    </div>

    <script>
        $(document).ready(function() {
            $('#myModal').modal('show');
        });
    </script>
{% endif %}

<script>
    const textarea = document.getElementById('question');

    textarea.addEventListener('input', () => {
        textarea.style.height = 'auto'; // Reset the height to auto
        textarea.style.height = textarea.scrollHeight + 'px'; // Set the height based on content
    });

    
</script>


{% endblock content %}
